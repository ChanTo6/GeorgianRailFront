<div class="train-search-banner-bg">
  <div class="train-search-card elegant-shadow">
    <form (ngSubmit)="searchTrains()">
      <div class="train-search-header elegant-gradient-text">
        <span class="header-icon">ğŸš„</span> <span>{{ 'train.search' | translate }}</span>
      </div>
      <div class="train-search-fields">
        <input type="text" [(ngModel)]="source" name="source" [placeholder]="'train.source' | translate" required class="elegant-input" />
        <input type="text" [(ngModel)]="destination" name="destination" [placeholder]="'train.destination' | translate" required class="elegant-input" />
        <button type="submit" class="elegant-btn">{{ 'train.search' | translate }}</button>
      </div>
      <div class="error elegant-error" *ngIf="error">{{ error | translate }}</div>
    </form>
    <div class="results elegant-results" *ngIf="trains.length">
      <div class="results-header elegant-gradient-text">{{ 'available.trains' | translate }}</div>
      <ul>
        <li *ngFor="let train of trains">
          <div class="train-list-item elegant-list-item">
            <div class="train-list-title elegant-list-title">{{ train.name }}</div>
            <div class="train-list-route elegant-list-route">{{ train.source }} <span class="arrow">â†’</span> {{ train.destination }}</div>
            <div class="train-list-meta elegant-list-meta">
              <span><i class="fa fa-calendar"></i> {{ 'train.date' | translate }}: <span class="meta-value">{{ train.date | date:'short' }}</span></span>
              <span><i class="fa fa-chair"></i> {{ 'seats' | translate }}: <span class="meta-value">{{ train.totalSeats }}</span></span>
            </div>
            <div class="buy-ticket-section elegant-buy-section">
              <input type="number" min="1" max="{{train.totalSeats}}" [(ngModel)]="seatInputs[train.id]" [placeholder]="'seat.number' | translate" class="elegant-seat-input" />
              <button (click)="buyTicket(train)" type="button" class="elegant-btn buy-btn">{{ 'buy.ticket' | translate }}</button>
            </div>
          </div>
        </li>
      </ul>
      <div class="success elegant-success" *ngIf="buyMessage">{{ buyMessage | translate }}</div>
      <div class="error elegant-error" *ngIf="error">{{ error | translate }}</div>
    </div>
  </div>
</div>
